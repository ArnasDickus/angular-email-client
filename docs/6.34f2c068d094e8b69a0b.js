(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ejg8:function(t,e,i){"use strict";i.r(e),i.d(e,"InboxModule",(function(){return j}));var r=i("ofXK"),n=i("tyNb"),o=i("3Pt+"),c=i("fXoL"),l=i("tk/3");let s=(()=>{class t{constructor(t){this.http=t,this.url="https://api.angular-email.com"}getEmails(){return this.http.get(this.url+"/emails")}getEmail(t){return this.http.get(`${this.url}/emails/${t}`)}sendEmail(t){return this.http.post(this.url+"/emails",t)}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(l.b))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=i("QlUG"),a=i("dgC2");const u=function(){return{height:"200px"}};let m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Eb({type:t,selectors:[["app-editor"]],inputs:{id:"id",label:"label",control:"control"},decls:4,vars:7,consts:[[1,"form-group"],[3,"for"],[3,"formControl","id"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"label",1),c.Bc(2),c.Pb(),c.Lb(3,"p-editor",2),c.Pb()),2&t&&(c.xb(1),c.ic("for",e.id),c.xb(1),c.Cc(e.label),c.xb(1),c.xc(c.lc(6,u)),c.ic("formControl",e.control)("id",e.id))},directives:[a.a,o.h,o.c],styles:[""]}),t})();function d(t,e){if(1&t){const t=c.Rb();c.Qb(0,"div"),c.Qb(1,"form",3),c.bc("ngSubmit",(function(){return c.rc(t),c.dc(2).onSubmit()})),c.Qb(2,"h3",4),c.Bc(3,"Reply to Email"),c.Pb(),c.Lb(4,"app-input",5),c.Lb(5,"app-input",6),c.Lb(6,"app-editor",7),c.Qb(7,"button",8),c.Bc(8,"Send"),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.dc(2);c.xb(1),c.ic("formGroup",t.form),c.xb(3),c.ic("control",t.form.get("to"))("required",!1),c.xb(1),c.ic("control",t.form.get("subject"))("required",!1),c.xb(1),c.ic("control",t.form.get("text")),c.xb(1),c.ic("disabled",!t.form.valid)}}function p(t,e){if(1&t){const t=c.Rb();c.Qb(0,"div"),c.Qb(1,"div"),c.Qb(2,"h3"),c.Bc(3),c.Pb(),c.Qb(4,"div"),c.Bc(5," From: "),c.Qb(6,"i"),c.Bc(7),c.Pb(),c.Pb(),c.Qb(8,"div"),c.Bc(9),c.Pb(),c.Lb(10,"div",1),c.Pb(),c.Qb(11,"button",2),c.bc("click",(function(){return c.rc(t),c.dc().onReply()})),c.Bc(12,"Reply"),c.Pb(),c.zc(13,d,9,7,"div",0),c.Pb()}if(2&t){const t=c.dc();c.xb(3),c.Dc(" ",t.email.subject,""),c.xb(4),c.Cc(t.email.from),c.xb(2),c.Dc(" To: ",t.email.to," "),c.xb(1),c.ic("innerHTML",t.email.html,c.sc),c.xb(3),c.ic("ngIf",t.reply)}}let f=(()=>{class t{constructor(t,e,i){this.activatedRoute=t,this.formBuilder=e,this.emailService=i,this.reply=!1,this.activatedRoute.data.subscribe(({email:t})=>{this.email=t})}ngOnInit(){this.buildForm()}onReply(){this.reply=!this.reply}onSubmit(){console.log(this.form.getRawValue()),this.emailService.sendEmail(this.form.getRawValue()).subscribe(()=>{this.reply=!1})}buildForm(){this.form=this.formBuilder.group({to:[{value:this.email.from,disabled:!0},o.l.required,o.l.email],subject:["",[o.l.required,o.l.maxLength(20)]],text:["",[o.l.required]]})}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(n.a),c.Kb(o.b),c.Kb(s))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-email-show"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"innerHTML"],["type","button",1,"btn","btn-primary","mt-2",3,"click"],[1,"p-5",3,"formGroup","ngSubmit"],[1,"home__title","text-center"],["label","Receiver","type","email","id","receiver",3,"control","required"],["label","Subject","type","email","id","subject",3,"control","required"],["label","Post",3,"control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&c.zc(0,p,14,5,"div",0),2&t&&c.ic("ngIf",e.email)},directives:[r.l,o.n,o.i,o.d,b.a,m],styles:[""]}),t})();var h=i("yrbL"),v=i("8izQ"),g=i("EY2u");let y=(()=>{class t{constructor(t,e){this.emailService=t,this.router=e}resolve(t){const{id:e}=t.params;return this.emailService.getEmail(e).pipe(Object(h.catchError)(()=>(this.router.navigateByUrl(`${v.a.INBOX}/${v.a.NOTFOUND}`),g.a)))}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(s),c.Yb(n.b))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},P=i("6NWb");let Q=(()=>{class t{constructor(){this.faSearch=x}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Eb({type:t,selectors:[["app-not-found"]],decls:5,vars:1,consts:[[1,"text-center","background"],[1,"padding"],[1,"icon",3,"icon"],[1,"font-weight-bold"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Lb(2,"fa-icon",2),c.Qb(3,"p",3),c.Bc(4,"Email not found"),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.xb(2),c.ic("icon",e.faSearch))},directives:[P.a],styles:[".background[_ngcontent-%COMP%]{background-color:#f9fafb;border:1px solid #000}.icon[_ngcontent-%COMP%]{font-size:50px}.padding[_ngcontent-%COMP%]{padding:60px}"]}),t})();var S=i("1kSV");let w=(()=>{class t{constructor(t,e,i){this.formBuilder=t,this.emailService=e,this.modal=i}ngOnInit(){this.buildForm()}onSubmit(){this.form.invalid||this.emailService.sendEmail(this.form.value).subscribe(()=>{this.modal.close()})}buildForm(){this.form=this.formBuilder.group({to:["",[o.l.required,o.l.email]],subject:["",[o.l.required,o.l.maxLength(20)]],text:["",[o.l.required]]})}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(o.b),c.Kb(s),c.Kb(S.a))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-email-create"]],decls:8,vars:7,consts:[[1,"p-5",3,"formGroup","ngSubmit"],[1,"home__title","text-center"],["label","Receiver","type","email","id","receiver",3,"control","required"],["label","Subject","type","email","id","subject",3,"control","required"],["label","Post",3,"control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&(c.Qb(0,"form",0),c.bc("ngSubmit",(function(){return e.onSubmit()})),c.Qb(1,"h3",1),c.Bc(2,"Submit email"),c.Pb(),c.Lb(3,"app-input",2),c.Lb(4,"app-input",3),c.Lb(5,"app-editor",4),c.Qb(6,"button",5),c.Bc(7,"Send"),c.Pb(),c.Pb()),2&t&&(c.ic("formGroup",e.form),c.xb(3),c.ic("control",e.form.get("to"))("required",!1),c.xb(1),c.ic("control",e.form.get("subject"))("required",!1),c.xb(1),c.ic("control",e.form.get("text")),c.xb(1),c.ic("disabled",!e.form.valid))},directives:[o.n,o.i,o.d,b.a,m],styles:[""]}),t})(),L=(()=>{class t{constructor(t,e){this.modalService=t,this.activeModal=e}ngOnInit(){}openModal(){this.modalService.open(w,{size:"lg"})}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(S.b),c.Kb(S.b))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-email-sidebar"]],decls:2,vars:0,consts:[["type","button",1,"btn","btn-primary","mb-3",3,"click"]],template:function(t,e){1&t&&(c.Qb(0,"button",0),c.bc("click",(function(){return e.openModal()})),c.Bc(1,"Compose"),c.Pb())},styles:[""]}),t})();function k(t,e){if(1&t&&(c.Qb(0,"a",2),c.Qb(1,"div",3),c.Qb(2,"p",4),c.Qb(3,"span",5),c.Bc(4),c.Pb(),c.Qb(5,"span"),c.Bc(6),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t){const t=e.$implicit;c.ic("routerLink",t.id),c.xb(4),c.Cc(t.from),c.xb(2),c.Cc(t.subject)}}function B(t,e){if(1&t&&(c.Qb(0,"div"),c.zc(1,k,7,3,"a",1),c.Pb()),2&t){const t=c.dc();c.xb(1),c.ic("ngForOf",t.emails)}}function I(t,e){1&t&&(c.Qb(0,"div"),c.Qb(1,"p"),c.Bc(2,"Looks like there is no emails spooky."),c.Pb(),c.Pb())}const E=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Eb({type:t,selectors:[["app-email-layout"]],decls:6,vars:0,consts:[[1,"mt-5","pl-4"],[1,"row"],[1,"col-12","col-lg-2"],[1,"col-12","col-lg-8","pb-2","pb-sm-0"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Lb(3,"app-email-sidebar"),c.Pb(),c.Qb(4,"div",3),c.Lb(5,"router-outlet"),c.Pb(),c.Pb(),c.Pb())},directives:[L,n.f],styles:[""]}),t})(),children:[{path:"",component:(()=>{class t{constructor(t){this.emailService=t,this.emails=[]}ngOnInit(){this.emailService.getEmails().subscribe(t=>{this.emails=t})}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(s))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-email-index"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","text-decoration-none",3,"routerLink",4,"ngFor","ngForOf"],[1,"text-decoration-none",3,"routerLink"],[1,"card"],[1,"email-index__email"],[1,"pr-5"]],template:function(t,e){1&t&&(c.zc(0,B,2,1,"div",0),c.zc(1,I,3,0,"div",0)),2&t&&(c.ic("ngIf",e.emails.length),c.xb(1),c.ic("ngIf",!e.emails.length))},directives:[r.l,r.k,n.d],styles:[".active[_ngcontent-%COMP%]{color:#000}.email-index__email[_ngcontent-%COMP%]{margin:10px;color:#000}"]}),t})()},{path:":id",component:f,resolve:{email:y}},{path:"not-found",component:Q}]}];let O=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},imports:[[n.e.forChild(E)],n.e]}),t})();var C=i("PCNd");let j=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},imports:[[r.c,O,P.b,o.k,a.b,C.a]]}),t})()}}]);